{"version":3,"sources":["webpack:///./templates/library.hbs","webpack:///./js/refs.js","webpack:///./js/apiService.js","webpack:///./js/close-modal.js","webpack:///./index.js","webpack:///./templates/filmgallery.hbs","webpack:///./templates/modal.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","refs","inputRef","document","querySelector","galleryRef","modalRef","modalBoxRef","galContainerRef","prevBtnRef","nextBtnRef","btnCloseModalRef","modalBackdropRef","paginBtnsRef","querySelectorAll","paginBtnWrapper","libraryLinkRef","libraryInsertPlaceRef","searchUrl","trendingUrl","movieDetailsUrl","movieGenreList","apiKey","movieID","searchQuerry","page","fetchSearchRequestGallery","url","this","fetch","then","res","ok","json","Error","status","catch","error","console","log","fetchPopularMovieGallery","fetchMovieInfo","results","fetchGenresList","resetPage","value","closeModal","classList","toggle","innerHTML","addEventListener","e","target","currentTarget","window","code","contains","moviesArr","string","_","require","backdropRef","resultData","currentPage","totalPages","totalResults","genreDB","id","name","watchedMovies","moviesInQueue","currentFilmObj","filterUniqueWatchedQueue","arrayToFilter","localStorageKey","obj","someTry","forEach","item","i","poster_path","push","localStorage","setItem","JSON","stringify","parsedToElement","str","parse","startPopularFilms","remove","apiFetch","total_pages","total_results","handlePopularFilmMarkup","genreTransform","moviesDB","transferedGenreArr","map","film","newPosterPath","newDate","release_date","slice","genreArr","genre_ids","genreId","genre","popularFilms","popularMarkup","popularFilmsGalerryTpl","insertAdjacentHTML","handleBtnClickSearchQuery","length","failureMarkup","placeToInsert","add","event","nodeName","pageToRender","textContent","Number","getItem","getLocalStorageDataQueue","debounce","toMatch","dataset","compare","currentMovie","modalMarkup","modalTpl","libraryMarkupTpl","libraryPage","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","lambda","alias3"],"mappings":"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","file":"main.fae26ef87860bc428484.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"container container--header container--my-library\\\">\\r\\n  <div class=\\\"nav\\\">\\r\\n\\r\\n    <a href=\\\"./index.html\\\" class=\\\"nav__logo-link\\\">\\r\\n      <svg class=\\\"nav__logo-icon\\\" width=\\\"24\\\" height=\\\"24\\\">\\r\\n        <use href=\\\"./images/symbol-defs.svg#icon-logo\\\"></use>\\r\\n      </svg>\\r\\n      <h1 class=\\\"nav__logo-tittle\\\">Filmoteka</h1>\\r\\n    </a>\\r\\n\\r\\n    <nav class=\\\"nav__site\\\">\\r\\n      <ul class=\\\"nav__site-list list\\\">\\r\\n        <li class=\\\"nav__site-item\\\"><a href=\\\"./index.html\\\" class=\\\"nav__site-link\\\">home</a></li>\\r\\n        <li class=\\\"nav__site-item\\\"><a href=\\\"./library-page.html\\\"\\r\\n            class=\\\"nav__site-link js-library nav__site-link--current\\\">my\\r\\n            library</a></li>\\r\\n      </ul>\\r\\n    </nav>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"button-box\\\">\\r\\n    <button class=\\\"button btn-library js-btn-render-watched\\\">watched</button>\\r\\n    <button class=\\\"button btn-library js-btn-render-queue\\\">queue</button>\\r\\n\\r\\n  </div>\\r\\n</div>\";\n},\"useData\":true});","const refs = {\r\n  inputRef: document.querySelector('.search-form'),\r\n  galleryRef: document.querySelector('.movie__list'),\r\n  modalRef: document.querySelector('.card'),\r\n  modalBoxRef: document.querySelector('.card-box'),\r\n  galContainerRef: document.querySelector('.js-container'),\r\n  prevBtnRef: document.querySelector('#js-prev-btn'),\r\n  nextBtnRef: document.querySelector('#js-next-btn'),\r\n  btnCloseModalRef: document.querySelector('.card__btn-close'),\r\n  modalBackdropRef: document.querySelector('.backdrop'),\r\n  paginBtnsRef: document.querySelectorAll('.pagination__page-btn'),\r\n  paginBtnWrapper: document.querySelector('.pagination__page-numbers'),\r\n  libraryLinkRef: document.querySelector('.js-library'),\r\n  libraryInsertPlaceRef: document.querySelector('.my-library')\r\n};\r\n\r\nexport default refs;\r\n","export default {\r\n  searchUrl: 'https://api.themoviedb.org/3/search/movie?api_key=',\r\n  trendingUrl: 'https://api.themoviedb.org/3/trending/movie/week?api_key=',\r\n  movieDetailsUrl: 'https://api.themoviedb.org/3/movie/',\r\n  movieGenreList: 'https://api.themoviedb.org/3/genre/movie/list?api_key=',\r\n  apiKey: '3550330ecc32a34c7342dbd44dd96d6e',\r\n  movieID: 0,\r\n  searchQuerry: '',\r\n  page: 2,\r\n\r\n  fetchSearchRequestGallery() {\r\n    const url = `${this.searchUrl}${this.apiKey}&language=en-US&query=${this.searchQuerry}&page=${this.page}`;\r\n\r\n    return fetch(url)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        throw new Error(res.status);\r\n      })\r\n      .then(data => {\r\n        //this.page += 1;\r\n        return data;\r\n      })\r\n      .catch(error => console.log(error));\r\n  },\r\n\r\n  fetchPopularMovieGallery() {\r\n    const url = `${this.trendingUrl}${this.apiKey}&page=${this.page}`;\r\n\r\n    return fetch(url)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        //this.page += 1;\r\n        return data;\r\n      })\r\n      .catch(error => console.log(error));\r\n  },\r\n\r\n  fetchMovieInfo() {\r\n    const url = `${this.movieDetailsUrl}${this.movieID}?api_key=${this.apiKey}&language=en-US`;\r\n    return fetch(url)\r\n      .then(res => res.json())\r\n      .then(({ results }) => results)\r\n      .catch(error => console.log(error));\r\n  },\r\n\r\n  fetchGenresList() {\r\n    const url = `${this.movieGenreList}${this.apiKey}&language=en-US`;\r\n\r\n    return fetch(url)\r\n      .then(res => res.json())\r\n      .then(data => data)\r\n      .catch(error => console.log(error));\r\n  },\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n\r\n  get query() {\r\n    return this.searchQuerry;\r\n  },\r\n\r\n  set query(value) {\r\n    this.searchQuerry = value;\r\n  },\r\n\r\n  get movieID() {\r\n    return this.movieID;\r\n  },\r\n  set movieID(value) {\r\n    this.movieID = value;\r\n  },\r\n};\r\n","import refs from './refs';\r\n\r\nfunction closeModal() {\r\n    \r\n    refs.modalBackdropRef.classList.toggle('is-hidden');\r\n    refs.modalBoxRef.innerHTML = '';\r\n};\r\n\r\nrefs.btnCloseModalRef.addEventListener('click', closeModal);\r\nrefs.modalBackdropRef.addEventListener('click', (e) => {\r\n    if (e.target === e.currentTarget) {\r\n        closeModal();\r\n    };\r\n})\r\nwindow.addEventListener('keydown', (e) => {\r\n    if (e.code === 'Escape' && !refs.modalBackdropRef.classList.contains('is-hidden')) {\r\n        closeModal();\r\n        console.log('adasd');\r\n    };\r\n});","import './sass/styles.scss';\r\nconst _ = require('lodash');\r\nimport refs from './js/refs';\r\nimport apiFetch from './js/apiService.js';\r\nimport popularFilmsGalerryTpl from './templates/filmgallery.hbs';\r\nimport libraryPage from './templates/library.hbs';\r\nimport modalTpl from './templates/modal.hbs';\r\nimport './js/close-modal';\r\n\r\n//============== вставка Dr.Frame======================\r\n//=====================================================\r\n\r\n// мои ссылки для корректной работы впихнутого кода\r\nconst inputRef = refs.inputRef;\r\nconst galleryRef = refs.galleryRef;\r\nconst backdropRef = document.querySelector('#js-backdrop');\r\n\r\n// берут значение после фетча\r\nconst resultData = {\r\n  currentPage: 1,\r\n  totalPages: null,\r\n  totalResults: null,\r\n  error: false,\r\n};\r\n\r\n//массив жанров от АПИ\r\nlet genreDB = [\r\n  { id: 28, name: 'Action' },\r\n  { id: 12, name: 'Adventure' },\r\n  { id: 16, name: 'Animation' },\r\n  { id: 35, name: 'Comedy' },\r\n  { id: 80, name: 'Crime' },\r\n  { id: 99, name: 'Documentary' },\r\n  { id: 18, name: 'Drama' },\r\n  { id: 10751, name: 'Family' },\r\n  { id: 14, name: 'Fantasy' },\r\n  { id: 36, name: 'History' },\r\n  { id: 27, name: 'Horror' },\r\n  { id: 10402, name: 'Music' },\r\n  { id: 9648, name: 'Mystery' },\r\n  { id: 10749, name: 'Romance' },\r\n  { id: 878, name: 'Science Fiction' },\r\n  { id: 10770, name: 'TV Movie' },\r\n  { id: 53, name: 'Thriller' },\r\n  { id: 10752, name: 'War' },\r\n  { id: 37, name: 'Western' },\r\n];\r\n\r\n//массив для хранения просмотренных фильмов (ЛокалСторадж)\r\nlet watchedMovies = [];\r\n\r\n//массив для хранения фильмов в очереди (Локал сторадж)\r\nlet moviesInQueue = [];\r\n\r\n//заходит сюда отрендеренный масив\r\nlet moviesArr;\r\n//заходит обьект для рендера модалки\r\nlet currentFilmObj = {};\r\n\r\n// ======================== ПАГИНАЦИЯ ===============================\r\n\r\nconsole.log(refs.paginBtnsRef);\r\nrefs.prevBtnRef.addEventListener('click', handleBtnPrevClick);\r\nrefs.nextBtnRef.addEventListener('click', handleBtnNextClick);\r\n\r\nrefs.paginBtnWrapper.addEventListener('click', event => {\r\n  if (event.target.nodeName === 'BUTTON') {\r\n    const pageToRender = event.target.textContent;\r\n    apiFetch.page = Number(pageToRender);\r\n    console.log(pageToRender);\r\n\r\n    if (apiFetch.searchQuerry) {\r\n      handleBtnClickSearchQuery();\r\n    } else {\r\n      galleryRef.innerHTML = '';\r\n      startPopularFilms();\r\n    }\r\n  }\r\n});\r\n\r\n//==============================    функция стрелки НАЗАД\r\nfunction handleBtnPrevClick() {\r\n  if (apiFetch.page === 1 || resultData.error) {\r\n    return;\r\n  } else if (inputRef.value) {\r\n    galleryRef.innerHTML = '';\r\n    apiFetch.page -= 1;\r\n    handleBtnClickSearchQuery();\r\n    return;\r\n  } else {\r\n    galleryRef.innerHTML = '';\r\n    apiFetch.page -= 1;\r\n\r\n    console.log(apiFetch.page);\r\n    startPopularFilms();\r\n  }\r\n}\r\n\r\n//===============================   функция стрелки ВПЕРЕД\r\nfunction handleBtnNextClick() {\r\n  console.log(resultData.totalPages);\r\n  if (apiFetch.page === resultData.totalPages || resultData.error) {\r\n    return;\r\n  } else if (inputRef.value) {\r\n    galleryRef.innerHTML = '';\r\n    apiFetch.page += 1;\r\n    handleBtnClickSearchQuery();\r\n    return;\r\n  } else {\r\n    galleryRef.innerHTML = '';\r\n    apiFetch.page += 1;\r\n\r\n    console.log(apiFetch.page);\r\n    startPopularFilms();\r\n  }\r\n}\r\n// ======================== ******* ПАГИНАЦИЯ ********* =============================== \\\\\\\\\\\\\r\n\r\n// ============================== старт приложения ============================\r\n\r\ngetLocalStorageDataWatched();\r\ngetLocalStorageDataQueue();\r\nstartPopularFilms();\r\ninputRef.addEventListener('input', _.debounce(handleSearchQuery, 1000));\r\n\r\ngalleryRef.addEventListener('click', modalMatchesFounder);\r\n\r\nrefs.libraryLinkRef.addEventListener('click', libraryPageRender);\r\n\r\n// ======================= LOCAL STORAGE =============\r\n//watched\r\nrefs.libraryInsertPlaceRef.addEventListener('click', markupWatchedInject);\r\nrefs.modalBoxRef.addEventListener('click', containWatchedMoviesArr);\r\n//queue\r\nrefs.libraryInsertPlaceRef.addEventListener('click', markupQueueInject);\r\nrefs.modalBoxRef.addEventListener('click', containQueueMoviesArr);\r\n\r\n//================ функция отрисовки ПРОСМОТРЕННЫХ/\r\nfunction markupWatchedInject(e) {\r\n  if (e.target.classList.contains('js-btn-render-watched')) {\r\n    galleryRef.innerHTML = '';\r\n    handlePopularFilmMarkup(watchedMovies);\r\n  }\r\n}\r\n\r\n//================ функция отрисовки В ОЧЕРЕДИ/\r\nfunction markupQueueInject(e) {\r\n  if (e.target.classList.contains('js-btn-render-queue')) {\r\n    galleryRef.innerHTML = '';\r\n    handlePopularFilmMarkup(moviesInQueue);\r\n  }\r\n}\r\n\r\n// =============================  загрузка массива ПРОСМОТРЕННЫХ\r\nfunction containWatchedMoviesArr(e) {\r\n  if (e.target.classList.contains('js-btn-watched')) {\r\n    filterUniqueWatchedQueue(watchedMovies, 'watchedMovies');\r\n  }\r\n}\r\n\r\n// =============================  загрузка массива в ОЧЕРЕДИ\r\nfunction containQueueMoviesArr(e) {\r\n  if (e.target.classList.contains('js-btn-queue')) {\r\n    filterUniqueWatchedQueue(moviesInQueue, 'moviesInQueue');\r\n  }\r\n}\r\n\r\n// ==========================================отвечает за пуш обьекта в массив ПРОСМОТРЕННЫЕ,\r\n// ПРОПУСКАЕТ  только уникальые, сохраняет локал сторадж\r\nfunction filterUniqueWatchedQueue(arrayToFilter, localStorageKey) {\r\n  let someTry = false;\r\n\r\n  arrayToFilter.forEach((item, i) => {\r\n    if (item.poster_path === currentFilmObj.poster_path) {\r\n      someTry = true;\r\n    }\r\n  });\r\n\r\n  if (someTry) {\r\n    return;\r\n  } else {\r\n    arrayToFilter.push(currentFilmObj);\r\n    localStorage.setItem(localStorageKey, convertToString(arrayToFilter));\r\n  }\r\n}\r\n\r\n// отрисовка массива ПРОСМОТРЕННЫХ фильмов\r\n\r\n// ======================================== превращает Обьект в строку\r\nfunction convertToString(obj) {\r\n  const string = JSON.stringify(obj);\r\n  return string;\r\n}\r\n\r\n// =======================================  получить данные с локал стораджа WATCHED\r\nfunction getLocalStorageDataWatched() {\r\n  const string = localStorage.getItem('watchedMovies');\r\n\r\n  if (string) {\r\n    watchedMovies = parsedToElement(string);\r\n  }\r\n}\r\n\r\n// =====================================  получить данные с локал стораджа QUEUE\r\nfunction getLocalStorageDataQueue() {\r\n  const string = localStorage.getItem('moviesInQueue');\r\n\r\n  if (string) {\r\n    moviesInQueue = parsedToElement(string);\r\n  }\r\n}\r\n\r\n// ===================================парсит Строку в Обьект\r\nfunction parsedToElement(str) {\r\n  const parsedElement = JSON.parse(str);\r\n  return parsedElement;\r\n}\r\n\r\n// ======================= LOCAL STORAGE \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\r\n\r\n// ============= функции отвечает за стартовую загрузку популярных фильмов =============================\r\n\r\n// =========================   функция отрисовки страницы библиотеки\r\nfunction libraryPageRender() {\r\n  refs.libraryInsertPlaceRef.innerHTML = '';\r\n  galleryRef.innerHTML = '';\r\n  libraryPageMarkupInsert();\r\n}\r\n\r\n//======================    функция рендерит Библиотку страницу\r\nfunction libraryPageMarkupInsert() {\r\n  const libraryMarkupTpl = libraryPage();\r\n  refs.libraryInsertPlaceRef.insertAdjacentHTML('afterbegin', libraryMarkupTpl);\r\n}\r\n\r\nfunction dishargeCurPage() {\r\n  apiFetch.resetPage();\r\n}\r\n\r\n// ============================= функция отрисовки популярных фильмов на странице\r\nfunction startPopularFilms() {\r\n  resultData.error = false;\r\n  refs.galleryRef.classList.remove('movie__list--error');\r\n  apiFetch\r\n    .fetchPopularMovieGallery()\r\n    .then(data => {\r\n      resultData.currentPage = data.page;\r\n      resultData.totalPages = data.total_pages;\r\n      resultData.totalResults = data.total_results;\r\n      return data;\r\n    })\r\n    .then(({ results }) => {\r\n      console.log(apiFetch.page);\r\n      handlePopularFilmMarkup(genreTransform(results, genreDB));\r\n    });\r\n}\r\n\r\n//================================== меняет числа жанров на название и дату релиза\r\nfunction genreTransform(moviesDB, genreDB) {\r\n  const transferedGenreArr = moviesDB.map(film => {\r\n    //ставим заглушку если нету фото\r\n    if (film.poster_path === null) {\r\n      film.poster_path = 'https://i.ibb.co/hWJT4yj/noImage.jpg';\r\n    } else {\r\n      const newPosterPath = `https://image.tmdb.org/t/p/w500/${film.poster_path}`;\r\n      film.poster_path = newPosterPath;\r\n    }\r\n\r\n    //изменяем дату\r\n    const newDate = film.release_date.slice(0, 4);\r\n\r\n    //изменяем жанр\r\n    let genreArr = [];\r\n    film.genre_ids.forEach(genreId => {\r\n      for (const genre of genreDB) {\r\n        if (genre.id === genreId) {\r\n          genreArr.push(genre.name);\r\n        }\r\n      }\r\n    });\r\n    return { ...film, genre_ids: genreArr, release_date: newDate };\r\n  });\r\n  moviesArr = transferedGenreArr;\r\n  console.log(moviesArr);\r\n  return transferedGenreArr;\r\n}\r\n\r\n//================================= ставит разметку популярных фильмов\r\nfunction handlePopularFilmMarkup(popularFilms) {\r\n  const popularMarkup = popularFilmsGalerryTpl(popularFilms);\r\n  galleryRef.insertAdjacentHTML('beforeend', popularMarkup);\r\n}\r\n\r\n// =================================================================================================\r\n\r\n//===============================  функции отвечающие за отрисовку запроса\r\nfunction handleSearchQuery(event) {\r\n  dishargeCurPage();\r\n  resultData.error = false;\r\n  refs.galleryRef.classList.remove('movie__list--error');\r\n  apiFetch.searchQuerry = '';\r\n  apiFetch.searchQuerry = inputRef.value;\r\n  console.log(apiFetch.page);\r\n  if (event.target.value) {\r\n    galleryRef.innerHTML = '';\r\n    apiFetch\r\n      .fetchSearchRequestGallery()\r\n      .then(data => {\r\n        console.log(data);\r\n        resultData.currentPage = data.page;\r\n        resultData.totalPages = data.total_pages;\r\n        resultData.totalResults = data.total_results;\r\n        return data;\r\n      })\r\n      .then(({ results }) => {\r\n        if (results.length === 0) {\r\n          failureMarkup(refs.galleryRef);\r\n        } else {\r\n          handlePopularFilmMarkup(genreTransform(results, genreDB));\r\n        }\r\n      })\r\n      .catch(error => console.log(error));\r\n  } else {\r\n    return;\r\n  }\r\n}\r\n\r\n//функция рендера поискового запроса, при клике НА КНОПКУ\r\nfunction handleBtnClickSearchQuery() {\r\n  galleryRef.innerHTML = '';\r\n  apiFetch\r\n    .fetchSearchRequestGallery()\r\n    .then(data => {\r\n      resultData.currentPage = data.page;\r\n      resultData.totalPages = data.total_pages;\r\n      resultData.totalResults = data.total_results;\r\n      return data;\r\n    })\r\n    .then(({ results }) => {\r\n      if (results.length === 0) {\r\n        failureMarkup(refs.galleryRef);\r\n      } else {\r\n        handlePopularFilmMarkup(genreTransform(results, genreDB));\r\n      }\r\n    })\r\n    .catch(error => console.log(error));\r\n}\r\n\r\n// рисует разметку когда нету результатов запроса\r\nfunction failureMarkup(placeToInsert) {\r\n  resultData.error = true;\r\n  refs.galleryRef.classList.add('movie__list--error');\r\n  const failureMarkup = `<div class=\"error\">\r\n  <div class=\"error-img\"><img src=\"https://i.ibb.co/4WvT00q/caterror.jpg\" alt=\"\" width=\"300\"></div>\r\n\r\n  <p class=\"gallery__failure\"> Unfortunately, no matches found. <span>Try again!</span> </p>\r\n</div>`;\r\n  placeToInsert.insertAdjacentHTML('afterbegin', failureMarkup);\r\n}\r\n\r\n// =================== модалка вывод фильма по клику =======================================\r\n\r\nfunction modalMatchesFounder(event) {\r\n  if (event.target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n  //вызов рендеринга модалки\r\n  const toMatch = event.target.dataset.compare;\r\n\r\n  moviesArr.forEach(item => {\r\n    if (item.poster_path === toMatch) {\r\n      console.log(item);\r\n      currentFilmObj = { ...item };\r\n    } else {\r\n      return;\r\n    }\r\n  });\r\n  handleModalMarkup(currentFilmObj);\r\n  backdropRef.classList.remove('is-hidden');\r\n  console.log(currentFilmObj);\r\n}\r\n\r\n//изменяет жанр при рендере модалки\r\nfunction modalGenreEditor(movie, genreDB) {\r\n  //изменяем жанр\r\n  let genreArr = [];\r\n  movie.genre_ids.forEach(genreId => {\r\n    for (const genre of genreDB) {\r\n      if (genre.id === genreId) {\r\n        genreArr.push(genre.name);\r\n      }\r\n    }\r\n  });\r\n  movie.genre_ids = genreArr;\r\n  console.log(movie);\r\n  return movie;\r\n}\r\n\r\n//рендерит разметку модального окна\r\nfunction handleModalMarkup(currentMovie) {\r\n  const modalMarkup = modalTpl(currentMovie);\r\n  refs.modalBoxRef.insertAdjacentHTML('afterbegin', modalMarkup);\r\n}\r\n\r\n// ======================== конец кода  Dr.Frame  =============================================\r\n//==================================================================================\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"poster\\\">\\r\\n  <div class=\\\"poster__img-wrap\\\">\\r\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":29}}}) : helper)))\n    + \"\\\" data-compare=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":45},\"end\":{\"line\":4,\"column\":60}}}) : helper)))\n    + \"\\\" alt=\\\"movie-poster\\\" class=\\\"poster__img\\\">\\r\\n  </div>\\r\\n  <div class=\\\"poster__content-wrap\\\">\\r\\n    <h3 class=\\\"poster__movie-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":35},\"end\":{\"line\":7,\"column\":53}}}) : helper)))\n    + \"</h3>\\r\\n    <div class=\\\"poster__movie-info-wrap\\\">\\r\\n      <ul class=\\\"poster__genre-list list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genre_ids\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":8},\"end\":{\"line\":13,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"        <p class=\\\"poster__genre-item\\\">&nbsp| \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":45},\"end\":{\"line\":14,\"column\":61}}}) : helper)))\n    + \"</p>\\r\\n      </ul>\\r\\n    </div>\\r\\n  </div>\\r\\n</li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"        <li class=\\\"poster__genre-item\\\">\\r\\n          \"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"<span>,&nbsp;</span></li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":19,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"            <li class=\\\"card__info-content__genre-item\\\">\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"<span>,&nbsp;</span></li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"card__img-wrap\\\">\\r\\n  <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":12},\"end\":{\"line\":2,\"column\":27}}}) : helper)))\n    + \"\\\" alt=\\\"modal__img\\\" class=\\\"card__img js-modal-search\\\">\\r\\n</div>\\r\\n<div class=\\\"card__content-wrap\\\">\\r\\n  <h3 class=\\\"card__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":26},\"end\":{\"line\":5,\"column\":44}}}) : helper)))\n    + \"</h3>\\r\\n  <div class=\\\"card__info-wrap\\\">\\r\\n    <div class=\\\"card__info-title\\\">\\r\\n      <ul class=\\\"card__info-title__list list\\\">\\r\\n        <li class=\\\"card__info-title__item\\\">Vote / Votes</li>\\r\\n        <li class=\\\"card__info-title__item\\\">Popularity</li>\\r\\n        <li class=\\\"card__info-title__item\\\">Original Title</li>\\r\\n        <li class=\\\"card__info-title__item\\\">Genre</li>\\r\\n      </ul>\\r\\n    </div>\\r\\n    <div class=\\\"card__info-content\\\">\\r\\n      <ul class=\\\"card__info-content__list list\\\">\\r\\n        <li class=\\\"card__info-content__item\\\"><span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":51},\"end\":{\"line\":17,\"column\":67}}}) : helper)))\n    + \"</span>&nbsp;/&nbsp;<span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":93},\"end\":{\"line\":17,\"column\":107}}}) : helper)))\n    + \"</span></li>\\r\\n        <li class=\\\"card__info-content__item\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":45},\"end\":{\"line\":18,\"column\":59}}}) : helper)))\n    + \"</li>\\r\\n        <li class=\\\"card__info-content__item\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":45},\"end\":{\"line\":19,\"column\":63}}}) : helper)))\n    + \"</li>\\r\\n        <li class=\\\"card__info-content__item\\\">\\r\\n          <ul class=\\\"card__info-content__genre-list list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genre_ids\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":12},\"end\":{\"line\":24,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"          </ul>\\r\\n        </li>\\r\\n      </ul>\\r\\n    </div>\\r\\n  </div>\\r\\n  <p class=\\\"card__description-title\\\">About</p>\\r\\n  <p class=\\\"card__description\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":31},\"end\":{\"line\":31,\"column\":43}}}) : helper)))\n    + \"</p>\\r\\n  <div class=\\\"card__btn-box\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"button card__btn js-btn-watched\\\">add to Watched</button>\\r\\n    <button type=\\\"button\\\" class=\\\"button card__btn js-btn-queue\\\">add to queue</button>\\r\\n  </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}